<ion-content *ngIf="dynamicForm && formFields">
  <form [formGroup]="dynamicForm">
    <ion-grid>
      <!-- <ion-list > -->
      <ion-row *ngFor="let field of formFields">
        <ion-col *ngIf="field.type === 'string'">
          <ion-item>
            <ion-label position="floating">{{field.fieldName}}</ion-label>
            <ion-input [type]="field.type" [name]="field.fieldName" [placeholder]="field.placeHolder"
              [formControlName]="field.fieldName">
            </ion-input>
            <small style="color: red;"
              *ngIf="dynamicForm.get(field.fieldName).errors?.required && dynamicForm.get(field.fieldName).touched ">
              <p>this field is required</p>
            </small>
            <small style="color: red;"
              *ngIf="dynamicForm.get(field.fieldName).errors?.minLength  && dynamicForm.get(field.fieldName).touched ">
              <p>should be at least {{field.validators.minLength}} characters</p>
            </small>
          </ion-item>
        </ion-col>
        <ion-col *ngIf="field.type === 'select'">
          <ion-item>
            <ion-label position="floating">{{field.fieldName}}</ion-label>
            <ion-select [formControlName]="field.fieldName" *ngIf="field.type === 'select' ">
              <ion-select-option *ngFor="let item of field.items">{{item}}
              </ion-select-option>
            </ion-select>
          </ion-item>
        </ion-col>
      </ion-row>
      <!-- </ion-list> -->
      <ion-row>
        <ion-col>
          <ion-button color="primary" (click)="submit()" type="button" [disabled]="!dynamicForm.valid">
            salva
          </ion-button>
          <ion-button color="danger" (click)="close()" type="button">
            cancella
          </ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>

</ion-content>
